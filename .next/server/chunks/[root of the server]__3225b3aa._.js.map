{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/DELL/Desktop/AI_ASSISTANT/Ai-Translator/src/app/api/voice/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport async function POST(request) {\n  try {\n    const { transcript } = await request.json();\n\n    if (!transcript) {\n      return NextResponse.json(\n        { error: \"Missing transcript or voiceId in request body.\" },\n        { status: 400 }\n      );\n    }\n\n    const apiKey = process.env.ELEVEN_LABS_KEY;\n\n    const client = new ElevenLabsClient({\n      apiKey: process.env.ELEVEN_LABS_KEY,\n    });\n\n    const elevenResponse = await client.textToSpeech.convertAsStream(\n      \"9Ats6C5UrhVXzgyVbnh3\",\n      {\n        output_format: \"mp3_44100_128\",\n        text: transcript,\n        model_id: \"eleven_multilingual_v2\",\n      }\n    );\n\n    if (!elevenResponse.ok) {\n      // Read response text for more debugging info.\n      const errorDetails = await elevenResponse.text();\n      console.error(\"Error from ElevenLabs API:\", errorDetails);\n      return NextResponse.json(\n        { error: \"Error generating audio\", details: errorDetails },\n        { status: elevenResponse.status }\n      );\n    }\n\n    // Forward the streaming response directly to the client.\n    return new Response(elevenResponse.body, {\n      status: 200,\n      headers: {\n        \"Content-Type\": \"audio/mpeg\",\n        \"Content-Disposition\": \"attachment; filename=output.mp3\",\n      },\n    });\n  } catch (error) {\n    console.error(\"Internal error in /api/voice:\", error);\n    return NextResponse.json(\n      { error: \"Internal Server Error\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,UAAU,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEzC,IAAI,CAAC,YAAY;YACf,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAiD,GAC1D;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,eAAe;QAE1C,MAAM,SAAS,IAAI,iBAAiB;YAClC,QAAQ,QAAQ,GAAG,CAAC,eAAe;QACrC;QAEA,MAAM,iBAAiB,MAAM,OAAO,YAAY,CAAC,eAAe,CAC9D,wBACA;YACE,eAAe;YACf,MAAM;YACN,UAAU;QACZ;QAGF,IAAI,CAAC,eAAe,EAAE,EAAE;YACtB,8CAA8C;YAC9C,MAAM,eAAe,MAAM,eAAe,IAAI;YAC9C,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;gBAA0B,SAAS;YAAa,GACzD;gBAAE,QAAQ,eAAe,MAAM;YAAC;QAEpC;QAEA,yDAAyD;QACzD,OAAO,IAAI,SAAS,eAAe,IAAI,EAAE;YACvC,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,uBAAuB;YACzB;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}