{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/DELL/Desktop/AI_ASSISTANT/Ai-Translator/src/app/page.js"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useRef } from \"react\";\nimport { Mic, MicOff, Volume2, Pause } from \"lucide-react\";\n\nexport default function TranslatorPage() {\n  const [isRecording, setIsRecording] = useState(false);\n  const [isTranslating, setIsTranslating] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [inputText, setInputText] = useState(\"\");\n  const [translatedText, setTranslatedText] = useState(\"\");\n  const [destLanguage, setDestLanguage] = useState(\"es\"); // default to Spanish\n  const [error, setError] = useState(\"\");\n\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n  // Helper function to convert a Blob to base64\n  const blobToBase64 = (blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result.split(\",\")[1]);\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    });\n\n  // Start recording audio\n  const startRecording = async () => {\n    setError(\"\");\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      audioChunksRef.current = [];\n\n      mediaRecorderRef.current.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorderRef.current.onstop = handleAudioData;\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n    } catch (err) {\n      console.error(\"Error accessing microphone:\", err);\n      setError(\"Microphone access is required.\");\n    }\n  };\n\n  // Handle audio data when recording stops\n  const handleAudioData = async () => {\n    const audioBlob = new Blob(audioChunksRef.current, { type: \"audio/wav\" });\n    try {\n      const audioBase64 = await blobToBase64(audioBlob);\n      // Post the base64 audio along with the destination language to your backend\n      postAudio(audioBase64);\n    } catch (err) {\n      console.error(\"Error converting audio:\", err);\n      setError(\"Error processing audio.\");\n      setIsTranslating(false);\n    }\n  };\n\n  // Post base64 audio to the backend route\n  const postAudio = async (audioBase64) => {\n    setIsTranslating(true);\n    setError(\"\");\n    try {\n      const response = await fetch(\"/api/translate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ audioFileBase64: audioBase64, destLanguage }),\n      });\n      if (!response.ok) {\n        throw new Error(\"Translation failed.\");\n      }\n      const data = await response.json();\n      // Assuming the response contains inputText and translatedText\n      setInputText(data.inputText || \"Audio received.\");\n      setTranslatedText(\n        data.destinationTranscript || data.translatedText || \"\"\n      );\n    } catch (err) {\n      console.error(err);\n      setError(\"Error translating audio.\");\n    } finally {\n      setIsTranslating(false);\n    }\n  };\n\n  // Stop recording audio\n  const stopRecording = () => {\n    if (\n      mediaRecorderRef.current &&\n      mediaRecorderRef.current.state !== \"inactive\"\n    ) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n\n      // Stop all active tracks\n      mediaRecorderRef.current.stream\n        .getTracks()\n        .forEach((track) => track.stop());\n    }\n  };\n\n  // Simulate playback for translated audio\n  const playTranslatedAudio = () => {\n    setIsPlaying(true);\n    // Replace this simulation with actual audio playback logic\n    setTimeout(() => {\n      setIsPlaying(false);\n    }, 3000);\n  };\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-[#F0EBE3]\">\n      {/* Navbar */}\n      <nav className=\"bg-[#E4DCCF] px-6 py-4 shadow-md\">\n        <div className=\"container mx-auto flex justify-between items-center\">\n          <h1 className=\"text-[#576F72] text-2xl font-bold\">AI Translator</h1>\n          <div className=\"flex space-x-4\">\n            <button className=\"text-[#576F72] hover:text-[#7D9D9C] px-4 py-2\">\n              About\n            </button>\n            <button className=\"text-[#576F72] hover:text-[#7D9D9C] px-4 py-2\">\n              Settings\n            </button>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <main className=\"flex-grow container mx-auto py-12 px-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          {/* Input Card */}\n          <div className=\"bg-white border border-[#E4DCCF] rounded-lg shadow-lg overflow-hidden\">\n            <div className=\"bg-[#E4DCCF] border-b border-[#7D9D9C]/20 px-6 py-4\">\n              <h2 className=\"text-[#576F72] text-xl font-semibold\">\n                Speech Input\n              </h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"flex flex-col space-y-4\">\n                {/* Destination Language Selector */}\n                <div className=\"flex items-center space-x-2\">\n                  <label className=\"text-[#576F72]\">Target Language:</label>\n                  <input\n                    type=\"text\"\n                    value={destLanguage}\n                    onChange={(e) => setDestLanguage(e.target.value)}\n                    className=\"border rounded px-2 py-1\"\n                    placeholder=\"e.g., es, fr, de\"\n                  />\n                </div>\n\n                <div className=\"min-h-[150px] border p-4 rounded bg-gray-50\">\n                  {isRecording ? (\n                    <div className=\"flex items-center justify-center\">\n                      <div className=\"relative\">\n                        <div className=\"w-24 h-24 rounded-full bg-[#7D9D9C]/20 flex items-center justify-center\">\n                          <Mic className=\"w-12 h-12 text-[#7D9D9C] animate-pulse\" />\n                        </div>\n                        <div className=\"absolute top-0 left-0 w-full h-full rounded-full border-4 border-[#7D9D9C] animate-ping opacity-30\"></div>\n                      </div>\n                    </div>\n                  ) : (\n                    <p className=\"text-[#576F72] whitespace-pre-wrap\">\n                      {inputText || \"Your transcript will appear here.\"}\n                    </p>\n                  )}\n                </div>\n\n                <div className=\"text-center\">\n                  {isRecording ? (\n                    <button\n                      onClick={stopRecording}\n                      className=\"bg-[#576F72] hover:bg-[#7D9D9C] text-white px-4 py-2 rounded-md flex items-center justify-center mx-auto\"\n                    >\n                      <MicOff className=\"mr-2 h-5 w-5\" />\n                      Stop Recording\n                    </button>\n                  ) : (\n                    <button\n                      onClick={startRecording}\n                      disabled={isTranslating || isPlaying}\n                      className={`bg-[#7D9D9C] hover:bg-[#576F72] text-white px-4 py-2 rounded-md flex items-center justify-center mx-auto ${\n                        isTranslating || isPlaying\n                          ? \"opacity-50 cursor-not-allowed\"\n                          : \"\"\n                      }`}\n                    >\n                      <Mic className=\"mr-2 h-5 w-5\" />\n                      Start Recording\n                    </button>\n                  )}\n                </div>\n                {error && <p className=\"text-red-500 text-center\">{error}</p>}\n              </div>\n            </div>\n          </div>\n\n          {/* Output Card */}\n          <div className=\"bg-white border border-[#E4DCCF] rounded-lg shadow-lg overflow-hidden\">\n            <div className=\"bg-[#E4DCCF] border-b border-[#7D9D9C]/20 px-6 py-4\">\n              <h2 className=\"text-[#576F72] text-xl font-semibold\">\n                Translation Output\n              </h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"flex flex-col space-y-4 min-h-[150px]\">\n                <div className=\"border p-4 rounded bg-gray-50 flex-grow\">\n                  {isTranslating ? (\n                    <div className=\"flex flex-col items-center justify-center h-full\">\n                      <div className=\"w-10 h-10 border-4 border-[#7D9D9C] border-t-transparent rounded-full animate-spin mb-2\"></div>\n                      <p className=\"text-[#576F72]\">Translating...</p>\n                    </div>\n                  ) : (\n                    <p className=\"text-[#576F72] whitespace-pre-wrap\">\n                      {translatedText || \"Your translation will appear here.\"}\n                    </p>\n                  )}\n                </div>\n\n                <div className=\"text-center\">\n                  {isPlaying ? (\n                    <button\n                      onClick={() => setIsPlaying(false)}\n                      className=\"bg-[#576F72] hover:bg-[#7D9D9C] text-white px-4 py-2 rounded-md flex items-center justify-center mx-auto\"\n                    >\n                      <Pause className=\"mr-2 h-5 w-5\" />\n                      Stop Audio\n                    </button>\n                  ) : (\n                    <button\n                      onClick={playTranslatedAudio}\n                      disabled={isTranslating || isRecording || !translatedText}\n                      className={`bg-[#7D9D9C] hover:bg-[#576F72] text-white px-4 py-2 rounded-md flex items-center justify-center mx-auto ${\n                        isTranslating || isRecording || !translatedText\n                          ? \"opacity-50 cursor-not-allowed\"\n                          : \"\"\n                      }`}\n                    >\n                      <Volume2 className=\"mr-2 h-5 w-5\" />\n                      Play Translation\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"bg-[#E4DCCF] py-6 px-4\">\n        <div className=\"container mx-auto flex flex-col md:flex-row justify-between items-center\">\n          <p className=\"text-[#576F72] text-sm mb-2 md:mb-0\">\n            ©️ 2025 AI Translator. All rights reserved.\n          </p>\n          <div className=\"flex space-x-4\">\n            <button className=\"text-[#576F72] hover:text-[#7D9D9C]\">\n              Terms\n            </button>\n            <button className=\"text-[#576F72] hover:text-[#7D9D9C]\">\n              Privacy\n            </button>\n            <button className=\"text-[#576F72] hover:text-[#7D9D9C]\">\n              Contact\n            </button>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///Users/DELL/Desktop/AI_ASSISTANT/Ai-Translator/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":["file:///Users/DELL/Desktop/AI_ASSISTANT/Ai-Translator/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":["file:///Users/DELL/Desktop/AI_ASSISTANT/Ai-Translator/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}}]
}